<div class="mt-4 card">
       <div class="card-header">
              <h2 class="mx-3 my-1">
                  [[ tdata.name ]]</h2>
                <ul class="nav nav-pills justify-content-center mx-4"
                    id="pills-tab" role="tablist">

                  <li class="nav-item mx-2">
                    <a class="nav-link active btn-sm" 
                       id="pills-info-tab" 
                       @click="toggleFam('f' + tid + '-tab-content')"
                       data-toggle="pill"
                       :href="'#f' + tid + '-info'" 
                       role="tab" 
                       aria-controls="pills-info"
                       aria-selected="true">Info</a>
                  </li>
                  <li class="nav-item mx-2">
                    <a class="nav-link btn-sm" 
                       id="pills-domains-tab" 
                       @click="toggleFam('f' + tid + '-tab-content')"
                       data-toggle="pill"
                       :href="'#f' + tid + '-domains'"
                        role="tab" 
                        aria-controls="pills-domains"
                        aria-selected="false">Domains</a>
                  </li>
                  <li class="nav-item mx-2">
                    <a class="nav-link btn-sm" 
                       id="pills-stats-tab" 
                       @click="toggleFam('f' + tid + '-tab-content')"
                       data-toggle="pill"
                       :href="'#f' + tid + '-stats'"
                        role="tab" 
                        aria-controls="pills-stats"
                        aria-selected="false">Stats</a>
                  </li>
                  <li class="nav-item mx-2">
                    <a class="nav-link btn-sm" 
                       id="pills-mappings-tab" 
                       @click="toggleFam('f' + tid + '-tab-content')"
                       data-toggle="pill"
                       :href="'#f' + tid + '-mappings'"
                        role="tab" 
                        aria-controls="pills-mappings"
                        aria-selected="false">Mappings</a>
                  </li>
                  <li class="nav-item mx-2">
                    <a class="nav-link btn-sm" 
                       id="pills-biomes-tab" 
                       data-toggle="pill"
                       :href="'#f' + tid + '-biomes'"
                        @click="toggleFam('f' + tid + '-tab-content')"
                        role="tab" 
                        aria-controls="pills-biomes"
                        aria-selected="false">Biomes</a>
                  </li>
                  <li class="nav-item mx-2">
                    <a class="nav-link btn-sm" 
                       id="pills-functionp-tab" 
                       @click="toggleFam('f' + tid + '-tab-content')"
                       data-toggle="pill"
                       :href="'#f' + tid + '-functionp'"
                        role="tab" 
                        aria-controls="pills-functionp"
                        aria-selected="false">Functional prediction</a>
                  </li>
                  <li class="nav-item mx-2">
                    <a class="nav-link btn-sm" 
                       id="pills-taxp-tab" 
                       @click="toggleFam('f' + tid + '-tab-content')"
                       data-toggle="pill"
                       :href="'#f' + tid + '-taxp'"
                        role="tab" 
                        aria-controls="pills-taxp"
                        aria-selected="false">Taxonomic prediction</a>
                  </li>
                  <li class="nav-item mx-2">
                    <a class="nav-link btn-sm" id="pills-geco-tab" data-toggle="pill"
                        :href="'#f' + tid + '-geco'" role="tab" aria-controls="pills-geco"
                        aria-selected="false"
                        @click="toggleFam('f' + tid + '-tab-content');
                                toggleGeCo('#f'+tid+'-gecoViz', tid)"
                        >GeCo</a>
                  </li>
                  <li class="nav-item mx-3 position-absolute"
                      style="right:20px; top:10px;">
                        <a class="btn btn-primary btn-sm fam-toggle" 
                           data-toggle="collapse" 
                           :href="'#f' + tid + '-tab-content'" 
                           aria-expanded="true" 
                           aria-controls="tab-content"
                           ><i class="fas fa-angle-down"></i></a>
                  </li>

                </ul>
           </div>
           <div class="card-body p-2 rounded bg-light">
        <div class="tab-content collapse" :id="'f' + tid + '-tab-content'">

          <div class="tab-pane fade show active" :id="'f' + tid + '-info'" role="tabpanel"
              aria-labelledby="pills-info-tab">
           <div class="card m-0">
               <div class="card-body rounded">

                   <div class="card p-0 mx-2 fam-table">
                       <div class="table-responsive">
                           <table class="table table-vcenter card-table
                               text-center mb-0">
                               <thead>
                                   <tr>
                                       <th>Source</th>
                                       <th>Family type</th>
                                       <th>Closest homologue</th>
                                       <th>Longest gene family representative</th>
                                   </tr>
                               </thead>
                               <tbody>
                                   <tr>
                                       <th class="p-1">
                                           [[ tdata.source ]]
                                       </th>
                                       <th class="p-1">
                                           [[ tdata.ftype ]]
                                       </th>
                                       <th class="p-1">
                                           [[ tdata.hom ]]
                                       </th>
                                       <th class="p-1">
                                           [[ tdata.flength ]]
                                       </th>
                                   </tr>
                               </tbody>
                           </table>
                       </div>
                   </div>

               </div>
           </div>
          </div>

          <div class="tab-pane fade" 
               :id="'f' + tid + '-domains'" 
               role="tabpanel"
               aria-labelledby="pills-domains-tab">
           <div class="card m-0">
               <div class="card-body rounded">

                   <div class="card p-0 fam-table">
                       <div class="table-responsive">
                           <table class="table table-vcenter card-table
                               text-center mb-0">
                               <thead>
                                   <tr>
                                       <th>Members (unigene)
                                       </th>
                                       <th>Number of helices</th>
                                       <th>Topology</th>
                                       <th>Gram + signal peptide prediction</th>
                                       <th>Gram - signal peptide prediction</th>
                                   </tr>
                               </thead>
                               <tbody>
                                   <tr v-for="m in tdata.members">
                                       <th class="p-1">
                                           [[ m ]]
                                       </th>
                                       <th class="p-1">
                                           [[
                                           tdata.domains[m]['num_h']
                                           ]]
                                       </th>
                                       <th class="p-1">
                                           [[
                                           tdata.domains[m]['topo_h']
                                           ]]
                                       </th>
                                       <th class="p-1">
                                           [[
                                           tdata.domains[m]['signalp_p'] |
                                           signal_blank
                                           ]]
                                       </th>
                                       <th class="p-1">
                                           [[
                                           tdata.domains[m]['signalp_n'] | 
                                           signal_blank
                                           ]]
                                       </th>
                                   </tr>
                               </tbody>
                           </table>
                       </div>
                   </div>

               </div>
           </div>
          </div>

          <div class="tab-pane fade" :id="'f' + tid + '-stats'" role="tabpanel"
              aria-labelledby="pills-stats-tab">
           <div class="card">
               <div class="card-body rounded">
                   <div class="col-md-4">
                   <div class="card p-0 mx-2 fam-table">
                       <div class="table-responsive">
                           <table class="table table-vcenter card-table
                               text-center mb-0">
                               <thead>
                                   <tr>
                                       <th>Members</th>
                                       <th>Conserved domain length</th>
                                       <th>Aminoacids in members</th>
                                       <th>Smallest sequence</th>
                                       <th>Largest sequence</th>
                                       <th>Average sequence</th>
                                       <th>Alignment length</th>
                                       <th>Average identity</th>
                                       <th>Most related identity</th>
                                       <th>Least related identity</th>
                                       <th>Most distant member identity</th>
                                       <th>dN/dS</th>
                                       <th>p-val</th>
                                   </tr>
                               </thead>
                               <tbody>
                                   <tr>
                                       <th class="p-1">
                                           [[ tdata.align.esize | toFixed ]]
                                       </th>
                                       <th class="p-1">
                                           [[ tdata.align.cdl | toFixed ]]
                                       </th>
                                       <th class="p-1">
                                           [[ tdata.align.naa | toFixed ]]
                                       </th>
                                       <th class="p-1">
                                           [[ tdata.align.sm | toFixed ]]
                                       </th>
                                       <th class="p-1">
                                           [[ tdata.align.lg | toFixed ]]
                                       </th>
                                       <th class="p-1">
                                           [[ tdata.align.avl | toFixed ]]
                                       </th>
                                       <th class="p-1">
                                           [[ tdata.align.al | toFixed ]]
                                       </th>
                                       <th class="p-1">
                                           [[ tdata.align.avi | toFixed ]]
                                       </th>
                                       <th class="p-1">
                                           [[ tdata.align.mrp | toFixed ]]
                                       </th>
                                       <th class="p-1">
                                           [[ tdata.align.mup | toFixed ]]
                                       </th>
                                       <th class="p-1">
                                           [[ tdata.align.mds | toFixed ]]
                                       </th>
                                       <th class="p-1">
                                           [[ tdata.dnds | toFixed ]]
                                       </th>
                                       <th class="p-1">
                                           [[ tdata.p_exp | toFixed ]]
                                       </th>
                                   </tr>
                               </tbody>
                           </table>
                       </div>
                   </div>
                   </div>
               </div>
           </div>
          </div>
          <div class="tab-pane fade" :id="'f' + tid + '-mappings'" role="tabpanel"
              aria-labelledby="pills-mappings-tab">
           <div class="card">
               <div class="card-body rounded">
                    <div class="bg-white rounded" 
                         :id="'f' + tid + '-magsDonut'">
                    </div>
               </div>
           </div>
          </div>
          <div class="tab-pane fade" :id="'f' + tid + '-biomes'" role="tabpanel"
              aria-labelledby="pills-biomes-tab">
           <div class="card">
               <div class="card-body rounded">
                    <div class="bg-white rounded" 
                         :id="'f' + tid + '-biomesViz'">
                    </div>
               </div>
           </div>
          </div>
          <div class="tab-pane fade" :id="'f' + tid + '-functionp'" role="tabpanel"
              aria-labelledby="pills-functionp-tab">
           <div class="card">
               <div class="card-body rounded row">

                   <div class="col-md-8">
                   <div class="card p-0 mx-2 fam-table">
                       <div class="table-responsive">
                           <table class="table table-vcenter card-table
                               text-center mb-0">
                               <thead>
                                   <tr>
                                       <th>kegg
                                       </th>
                                       <th>vertical conservation</th>
                                       <th>horizontal conservation</th>
                                       <th>immediate neighbor horizontal
                                           conservation</th>
                                   </tr>
                               </thead>
                               <tbody>
                                   <tr v-for="m in tdata.keggp">
                                       <th class="p-1">
                                           [[ m.kegg ]]
                                       </th>
                                       <th class="p-1">
                                           [[ m.vc | tofixed ]]
                                       </th>
                                       <th class="p-1">
                                           [[ m.hc | tofixed ]]
                                       </th>
                                       <th class="p-1">
                                           [[ m.hci | tofixed ]]
                                       </th>
                                   </tr>
                               </tbody>
                           </table>
                       </div>
                   </div>
                   </div>

                   <div class="col-md-4">
                   <div class="card p-0 mx-2 fam-table">
                       <div class="table-responsive">
                           <table class="table table-vcenter card-table
                               text-center mb-0">
                               <thead>
                                   <tr>
                                       <th>eggNOG
                                       </th>
                                       <th>Vertical conservation</th>
                                   </tr>
                               </thead>
                               <tbody>
                                   <tr v-for="m in tdata.cogp">
                                       <th class="p-1">
                                           [[ m.cog ]]
                                       </th>
                                       <th class="p-1">
                                           [[ m.vcc | toFixed ]]
                                       </th>
                                   </tr>
                               </tbody>
                           </table>
                       </div>
                   </div>
                   </div>

               </div>
           </div>
          </div>
          <div class="tab-pane fade" :id="'f' + tid + '-taxp'" role="tabpanel"
              aria-labelledby="pills-taxp-tab">
           <div class="card">
               <div class="card-body rounded">
                   
                   <div class="card p-0 mx-2 fam-table">
                       <div class="table-responsive">
                           <table class="table table-vcenter card-table
                               text-center mb-0">
                               <thead>
                                   <tr>
                                       <th>Taxomic annotation</th>
                                       <th>Number of genes annotated</th>
                                       <th>Mean identity</th>
                                   </tr>
                               </thead>
                               <tbody>
                                   <tr v-for="m in tdata.taxp">
                                       <th class="p-1">
                                           [[ m.p_taxp_in ]]
                                       </th>
                                       <th class="p-1">
                                           [[ m.p_taxp_in_c | toFixed ]]
                                       </th>
                                       <th class="p-1">
                                           [[ m.p_taxp_id | toFixed ]]
                                       </th>
                                   </tr>
                               </tbody>
                           </table>
                       </div>
                   </div>

               </div>
           </div>
          </div>
          <div class="tab-pane fade" :id="'f' + tid + '-geco'" role="tabpanel"
              aria-labelledby="pills-geco-tab">
           <div class="card">
               <div class="card-body overflow-auto rounded" 
                    :id="'f' + tid + '-gecoViz'"
                    style="height:1600px;resize:vertical;">
                   {% include 'geco/geco.html' %}
               </div>
           </div>
          </div>

        </div>
   </div>
</div>
